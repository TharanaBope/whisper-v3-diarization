# Audio Transcription CLI - Corrected Dependencies
#
# IMPORTANT: Install PyTorch FIRST before installing this requirements file!
# Run this command first:
#   pip install torch==2.8.0 torchvision==0.23.0 torchaudio==2.8.0 --index-url https://download.pytorch.org/whl/cu128
#
# Then install these requirements:
#   pip install -r requirements.txt

# ============================================================================
# Core ML/AI Libraries
# ============================================================================

# HuggingFace Transformers - Loads OpenAI Whisper models
# Used in: src/audio_transcription/core/transcription.py
transformers>=4.35.0

# Accelerate - Faster model loading and distributed training
# Used by: transformers (improves performance)
accelerate>=0.24.0

# ============================================================================
# WhisperX - Speaker Diarization & Enhanced Transcription
# ============================================================================

# WhisperX - Main package for speaker diarization
# NOT on PyPI - must be installed from GitHub
# Automatically includes: faster-whisper, ctranslate2, and other dependencies
# Used in: src/audio_transcription/core/diarization.py
git+https://github.com/m-bain/whisperX.git

# PyAnnote Audio - Speaker diarization models (CRITICAL - was MISSING!)
# Used by: WhisperX for speaker identification
# Requires: HuggingFace token and accepting model terms
pyannote.audio>=3.0.0

# ============================================================================
# Audio Processing Libraries
# ============================================================================

# Librosa - Audio analysis, loading, and preprocessing
# Used in: transcription.py (line 172), file_handler.py (line 7), diarization.py (line 7)
# Critical for: noise reduction, normalization, effects
librosa>=0.10.2

# SoundFile - Audio file I/O (reading/writing)
# Used in: file_handler.py (line 8)
# Critical for: loading and saving audio files
soundfile>=0.12.1

# Mutagen - Audio metadata reading and validation
# Used in: file_handler.py (lines 9-10)
# Critical for: validating audio file integrity
mutagen>=1.47.0

# Static FFmpeg - FFmpeg binaries for audio conversion
# Used in: diarization.py (lines 28-29)
# Critical for: WhisperX audio loading, format conversion
static-ffmpeg>=1.4.0

# ============================================================================
# CLI Interface
# ============================================================================

# Typer - Modern CLI framework
# Used in: cli.py (line 3)
# Critical for: command-line interface
typer>=0.9.0

# Rich - Beautiful terminal output and progress bars
# Used in: cli.py (lines 6-7)
# Critical for: user interface and progress tracking
rich>=13.0.0

# ============================================================================
# Optional Dependencies
# ============================================================================

# HuggingFace Datasets with audio support
# Not directly used, but may be needed by transformers
datasets[audio]>=2.14.0

# TQDM - Progress bars (optional, Rich provides similar functionality)
tqdm>=4.65.0
